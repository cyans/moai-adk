# SPEC-STATUSLINE-CLEANUP-001: ìƒíƒœì„  ì‹œìŠ¤í…œ ê°œì„  ë° Windows í˜¸í™˜ì„± ì™„ì„±

**ìƒì„±ì¼**: 2025-11-26
**ìƒíƒœ**: completed
**ìš°ì„ ìˆœìœ„**: high
**ì†Œìœ ì**: GOOS
**ë²„ì „**: 1.0.0

---

## ğŸ“‹ ìš”ì•½ (Summary)

MoAI-ADK ìƒíƒœì„  ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³  Windows í™˜ê²½ì—ì„œì˜ í•œê¸€ ë° ì´ëª¨ì§€ í˜¸í™˜ì„±ì„ ì™„ì „íˆ í•´ê²°í•˜ëŠ” ì‚¬ì–‘ì…ë‹ˆë‹¤. Powerline ë””ìì¸ì„ ì ìš©í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê·¹ëŒ€í™”í•˜ê³ , ë‹¤ì¤‘ í”Œë«í¼ì—ì„œì˜ ì¼ê´€ëœ ë™ì‘ì„ ë³´ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## ğŸ¯ ëª©í‘œ (Ends)

### ë¹„ì „ (Vision)
Windows í™˜ê²½ì—ì„œ ì™„ë²½í•˜ê²Œ ë™ì‘í•˜ëŠ” MoAI-ADK ìƒíƒœì„  ì‹œìŠ¤í…œì„ ì œê³µí•˜ì—¬ ëª¨ë“  ì‚¬ìš©ìê°€ ì¼ê´€ë˜ê³  ë†’ì€ í’ˆì§ˆì˜ ê°œë°œ í™˜ê²½ ê²½í—˜ì„ í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

### ëª©í‘œ (Goals)
- [x] ìƒíƒœì„  ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ
- [x] Windows í•œê¸€/ì´ëª¨ì§€ ì¸ì½”ë”© ë¬¸ì œ í•´ê²°
- [x] Powerline ë””ìì¸ ì ìš©
- [x] ë‹¤ì¤‘ í„°ë¯¸ë„ í™˜ê²½ í˜¸í™˜ì„± í™•ë³´
- [x] ìë™ ì¥ì¹˜ ê°ì§€ ë° ìµœì í™” ê¸°ëŠ¥ êµ¬í˜„

### ì„±ê³¼ ì§€í‘œ (Metrics)
- ìƒíƒœì„  ë Œë”ë§ ì†ë„ 60% í–¥ìƒ
- Windows í™˜ê²½ì—ì„œ 100% í•œê¸€/ì´ëª¨ì§€ í˜¸í™˜ì„± ë‹¬ì„±
- ëª¨ë“  ì£¼ìš” í„°ë¯¸ë„(VS Code, Windows Terminal, iTerm)ì—ì„œ ì™„ë²½í•œ í˜¸í™˜ì„±

---

## âœ… ìˆ˜ìš© ê¸°ì¤€ (Acceptance Criteria)

### ê¸°ìˆ ì  ê¸°ì¤€ (Technical Criteria)
1. **UTF-8 í˜¸í™˜ì„±**: Windows í™˜ê²½ì—ì„œ ëª¨ë“  í•œê¸€ ë° ì´ëª¨ì§€ ë¬¸ìê°€ ì •ìƒ ì¶œë ¥ë˜ì–´ì•¼ í•¨
2. **ì„±ëŠ¥ í‘œì¤€**: ìƒíƒœì„  ë Œë”ë§ ì†ë„ê°€ ê¸°ì¡´ ëŒ€ë¹„ 60% ì´ìƒ í–¥ìƒë˜ì–´ì•¼ í•¨
3. **í˜¸í™˜ì„±**: VS Code, Windows Terminal, iTermì—ì„œ ì™„ë²½í•˜ê²Œ ë™ì‘í•´ì•¼ í•¨
4. **ì˜¤ë¥˜ ë‚´ì„±**: ëª¨ë“  ì˜¤ë¥˜ ìƒí™©ì—ì„œ ì•ˆì „í•œ Fallback ë©”ì»¤ë‹ˆì¦˜ì´ ë™ì‘í•´ì•¼ í•¨
5. **íƒ€ì… ì•ˆì „ì„±**: ëª¨ë“  ë°ì´í„° ëª¨ë¸ì´ íƒ€ì… ê²€ì‚¬ë¥¼ í†µê³¼í•´ì•¼ í•¨

### ì‚¬ìš©ì ê²½í—˜ ê¸°ì¤€ (User Experience Criteria)
1. **ì¼ê´€ì„±**: ëª¨ë“  í„°ë¯¸ë„ì—ì„œ ë™ì¼í•œ ì‹œê°ì  í’ˆì§ˆì„ ì œê³µí•´ì•¼ í•¨
2. **ì§ê´€ì„±**: ìƒíƒœì„  ì •ë³´ê°€ ëª…í™•í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ì›Œì•¼ í•¨
3. **ë°˜ì‘ì„±**: ìƒíƒœì„  ì—…ë°ì´íŠ¸ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ì–´ì•¼ í•¨
4. **ì•ˆì •ì„±**: ì¥ê¸°ê°„ ì‚¬ìš© ì‹œì—ë„ ì„±ëŠ¥ ì €í•˜ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ì•¼ í•¨

### í…ŒìŠ¤íŠ¸ ê¸°ì¤€ (Testing Criteria)
1. **í™˜ê²½ í…ŒìŠ¤íŠ¸**: Windows 11, ì£¼ìš” í„°ë¯¸ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í†µê³¼
2. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: ë Œë”ë§ ì†ë„, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰, CPU ì‚¬ìš©ëŸ‰ ì¸¡ì •
3. **í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸**: ë‹¤ì–‘í•œ í•œê¸€ ë¬¸ì ë° ì´ëª¨ì§€ ì¶œë ¥ í…ŒìŠ¤íŠ¸
4. **ì¥ì•  í…ŒìŠ¤íŠ¸**: ë„¤íŠ¸ì›Œí¬ ëŠê¹€, ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡± ë“± ì˜ˆì™¸ ìƒí™© í…ŒìŠ¤íŠ¸
5. **ì‚¬ìš©ì í…ŒìŠ¤íŠ¸**: ì‹¤ì œ ì‚¬ìš©ì í”¼ë“œë°± ë° ë§Œì¡±ë„ í‰ê°€

---

## ğŸ”§ ìƒì„¸ ì‚¬ì–‘ (Requirements)

### 1. ìƒíƒœì„  ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™”

#### 1.1 UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì •
- **TAG-WIN-005-1**: Windows í™˜ê²½ì—ì„œ UTF-8 ì¸ì½”ë”© ê°•ì œ ì ìš©
  - `sys.stdout.reconfigure()`ë¥¼ ì‚¬ìš©í•œ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ì¬ì„¤ì •
  - Windows ì½˜ì†” ì½”ë“œ í˜ì´ì§€ë¥¼ 65001(UTF-8)ë¡œ ì„¤ì •
  - ì´ëª¨ì§€ì™€ í•œê¸€ ë¬¸ìì˜ ì™„ë²½í•œ ì¶œë ¥ ë³´ì¥

#### 1.2 ê²½ë¡œ ì²˜ë¦¬ ìµœì í™”
- **TAG-WIN-005-2**: Windows í•œê¸€ ê²½ë¡œ ì¸ì½”ë”© ë¬¸ì œ í•´ê²°
  - `os.getcwd()`ë¥¼ ì‚¬ìš©í•œ ì‹¤ì œ íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œ ì½ê¸°
  - ë‹¤ì¤‘ ì¸ì½”ë”© ì‹œë„ (utf-8, cp949, latin-1)
  - ë””ë ‰í† ë¦¬ ì´ë¦„ ì•ˆì „ ì¶”ì¶œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„

#### 1.3 ì•ˆì „í•œ ë°ì´í„° ìˆ˜ì§‘ ì‹œìŠ¤í…œ
- **TAG-WIN-005-3**: ì¥ì•  ë‚´ì„± ìˆëŠ” ì •ë³´ ìˆ˜ì§‘
  - Git ì •ë³´ ìˆ˜ì§‘ ì‹œ Fallback ë©”ì»¤ë‹ˆì¦˜
  - ê°€ìƒ í™˜ê²½ ì •ë³´ ì•ˆì „ ì¶”ì¶œ
  - ë²„ì „ ì •ë³´ ë‹¤ì¤‘ ì†ŒìŠ¤ ì½ê¸°

### 2. Powerline ë””ìì¸ ì ìš©

#### 2.1 ë©€í‹° ëª¨ë“œ ë Œë”ë§ ì§€ì›
- **TAG-WIN-005-4**: ë‹¤ì–‘í•œ ë Œë”ë§ ëª¨ë“œ êµ¬í˜„
  - Powerline: ì „ì²´ Unicode Powerline ìŠ¤íƒ€ì¼ ì„¸ê·¸ë¨¼íŠ¸
  - Extended: ì •ë³´ í’ë¶€í•œ íŒŒì´í”„ ë¶„ë¦¬ ì„¸ê·¸ë¨¼íŠ¸
  - Minimal: í•µì‹¬ ì •ë³´ë§Œ í‘œì‹œ
  - Simple: ì œí•œëœ í„°ë¯¸ë„ì„ ìœ„í•œ ASCII ëŒ€ì²´

#### 2.2 ìƒ‰ìƒ ì‹œìŠ¤í…œ
- **TAG-WIN-005-5**: ì¼ê´€ëœ ìƒ‰ìƒ ìŠ¤í‚´ êµ¬í˜„
  - 16ì§„ìˆ˜ ìƒ‰ìƒ ì½”ë“œë¥¼ ANSI 256ìƒ‰ìœ¼ë¡œ ë§¤í•‘
  - í”Œë«í¼ë³„ ìƒ‰ìƒ í‘œì¤€í™”
  - ì¥ì•  ë‚´ì„± ìˆëŠ” ìƒ‰ìƒ ëŒ€ì²´ ë©”ì»¤ë‹ˆì¦˜

#### 2.3 ì‚¼ê°í˜• ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¦¬ì
- **TAG-WIN-005-6**: Powerline íš¨ê³¼ë¥¼ ìœ„í•œ ì‹œê°ì  ìš”ì†Œ
  - Unicode ì‚¼ê°í˜• ë¶„ë¦¬ì(`î‚°`) ì‚¬ìš©
  - ë™ì  ìƒ‰ìƒ ì „í™˜ íš¨ê³¼
  - ëª¨ë˜ í„°ë¯¸ë„ì—ì„œ ìµœì í™”ëœ ë Œë”ë§

### 3. í™˜ê²½ ê°ì§€ ì‹œìŠ¤í…œ

#### 3.1 í„°ë¯¸ë„ ìë™ ê°ì§€
- **TAG-WIN-005-7**: í„°ë¯¸ë„ í™˜ê²½ ìë™ ê°ì§€
  - Windows Terminal (`WT_SESSION`)
  - VS Code í„°ë¯¸ë„ (`TERM_PROGRAM`)
  - iTerm ë° Terminal.app ê°ì§€
  - Unix ì‹œìŠ¤í…œ ì¼ë°˜ ì§€ì›

#### 3.2 Unicode ì§€ì› ì—¬ë¶€ íŒë³„
- **TAG-WIN-005-8**: Unicode ì§€ëŠ¥ì  íŒë³„
  - ëŒ€í™”í˜• í„°ë¯¸ë„ ê°ì§€
  - ê°•ì œ Unicode ëª¨ë“œ í™˜ê²½ ë³€ìˆ˜ ì§€ì›
  - í”Œë«í¼ë³„ ì§€ì› ì—¬ë¶€ ë™ì  ê²°ì •

#### 3.3 ì•ˆì „í•œ ì¶œë ¥ ì‹œìŠ¤í…œ
- **TAG-WIN-005-9**: ë‹¤ë‹¨ê³„ ì•ˆì „ ì¶œë ¥ ë©”ì»¤ë‹ˆì¦˜
  - UTF-8 ë°”ì´íŠ¸ ì§ì ‘ ì“°ê¸°
  - ì¸ì½”ë”© ì˜¤ë¥˜ ë°œìƒ ì‹œ ASCII ëŒ€ì²´
  - ë²„í¼ ê¸°ë°˜ ì¶œë ¥ ìµœì í™”

### 4. ë°ì´í„° ëª¨ë¸ ê°œì„ 

#### 4.1 êµ¬ì¡°í™”ëœ ë°ì´í„° ì»¨í…Œì´ë„ˆ
- **TAG-WIN-005-10**: íƒ€ì… ì•ˆì „ ë°ì´í„° ëª¨ë¸
  - `@dataclass`ë¥¼ ì‚¬ìš©í•œ ëª…í™•í•œ ë°ì´í„° êµ¬ì¡°
  - ì„ íƒì  í•„ë“œë¥¼ ìœ„í•œ ê¸°ë³¸ê°’ ì„¤ì •
  - ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥

#### 4.2 ë°ì´í„° ì •ì œ ë° í‘œì¤€í™”
- **TAG-WIN-005-11**: í‘œì¤€í™”ëœ ë°ì´í„° ì²˜ë¦¬
  - AI ëª¨ë¸ ì´ë¦„ ì •ì œ
  - Git ìƒíƒœ ê¸°í˜¸ í‘œì¤€í™”
  - ë””ë ‰í† ë¦¬ ì´ë¦„ ì •ê·œí™”

#### 4.3 ë‹¤ì¤‘ ì†ŒìŠ¤ ë°ì´í„° í†µí•©
- **TAG-WIN-005-12**: í†µí•©ëœ ì •ë³´ ìˆ˜ì§‘
  - Claude Code ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸
  - ë¡œì»¬ ì‹œìŠ¤í…œ ì •ë³´
  - Git ë° ë²„ì „ ì •ë³´ í†µí•©

---

## ğŸ“Š êµ¬í˜„ ìƒì„¸

### ì™„ë£Œëœ ì‘ì—… ëª©ë¡

#### 1. UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì • (TAG-WIN-005-1)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `sys.platform == 'win32'` í™˜ê²½ì—ì„œ UTF-8 ì¸ì½”ë”© ê°•ì œ ì ìš©
- `sys.stdout.reconfigure()`ë¡œ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ì¬ì„¤ì •
- `ctypes.windll.kernel32.SetConsoleOutputCP(65001)`ë¡œ ì½˜ì†” ì½”ë“œ í˜ì´ì§€ ë³€ê²½
- ì¸ì½”ë”© ì‹¤íŒ¨ ì‹œ ê³„ì† ì§„í–‰í•˜ëŠ” ì•ˆì „í•œ ë©”ì»¤ë‹ˆì¦˜

#### 2. Windows í•œê¸€ ê²½ë¡œ ì²˜ë¦¬ (TAG-WIN-005-2)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `_extract_directory_from_cwd()` í•¨ìˆ˜ êµ¬í˜„
- ë‹¤ì¤‘ ì¸ì½”ë”©(utf-8, cp949, latin-1) ì‹œë„ ë¡œì§
- ê²½ë¡œ ë¬¸ìì—´ì—ì„œ ë””ë ‰í† ë¦¬ ì´ë¦„ ì•ˆì „ ì¶”ì¶œ
- `os.getcwd()`ì™€ `session_context`ë¥¼ í†µí•œ ì´ì¤‘ ê²½ë¡œ ì²˜ë¦¬

#### 3. ì¥ì•  ë‚´ì„± ì •ë³´ ìˆ˜ì§‘ (TAG-WIN-005-3)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `safe_collect_git_info()`: Git ì •ë³´ Fallback ì‹œìŠ¤í…œ
- `safe_collect_python_venv()`: ê°€ìƒ í™˜ê²½ ì •ë³´ ì•ˆì „ ì¶”ì¶œ
- `safe_collect_version()`: ë²„ì „ ì •ë³´ ë‹¤ì¤‘ ì†ŒìŠ¤ ì½ê¸°
- `safe_print()`: ì•ˆì „í•œ í…ìŠ¤íŠ¸ ì¶œë ¥ ë©”ì»¤ë‹ˆì¦˜

#### 4. Powerline ë©€í‹° ëª¨ë“œ ë Œë”ë§ (TAG-WIN-005-4)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `_render_powerline()`: ì „ì²´ Powerline ìŠ¤íƒ€ì¼ ë Œë”ë§
- `_render_extended()`: í™•ì¥ ì •ë³´ ëª¨ë“œ
- `_render_minimal()`: ìµœì†Œ ì •ë³´ ëª¨ë“œ
- `_render_simple_powerline()`: ASCII ëŒ€ì²´ ëª¨ë“œ

#### 5. ìƒ‰ìƒ ì‹œìŠ¤í…œ êµ¬í˜„ (TAG-WIN-005-5)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- 16ì§„ìˆ˜ ìƒ‰ìƒì„ ANSI 256ìƒ‰ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” `ANSI_COLOR_MAP`
- Powerline ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ìœ„í•œ ê³ ìœ í•œ ìƒ‰ìƒ ìŠ¤í‚´
- `DEFAULT_BG`, `DEFAULT_FG`ë¥¼ ìœ„í•œ ëŒ€ì²´ ìƒ‰ìƒ
- `_get_color_index()`: ìƒ‰ìƒ ì¸ë±ìŠ¤ ë³€í™˜ í•¨ìˆ˜

#### 6. ì‚¼ê°í˜• ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¦¬ì (TAG-WIN-005-6)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- Unicode `î‚°` ë¬¸ìë¥¼ ì‚¬ìš©í•œ Powerline ë¶„ë¦¬ì
- `_get_segment_separator()`: ë™ì  ë¶„ë¦¬ì ìƒì„±
- `_get_ascii_powerline_separator()`: ASCII ëŒ€ì²´ ë¶„ë¦¬ì
- ìƒ‰ìƒ ì „í™˜ì„ ìœ„í•œ ANSI ì´ìŠ¤ì¼€ì´í”„ ì‹œí€€ìŠ¤

#### 7. í„°ë¯¸ë„ ìë™ ê°ì§€ (TAG-WIN-005-7)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `detect_environment()`: í™˜ê²½ ì •ë³´ ê°ì§€ í•¨ìˆ˜
- ì£¼ìš” í„°ë¯¸ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ìë™ ì‹ë³„
- í”Œë«í¼ë³„ í„°ë¯¸ë„ íƒ€ì… ë¶„ë¥˜
- ì§€ì›ë˜ëŠ” í„°ë¯¸ë„ íƒ€ì…: windows-terminal, vscode, unix-terminal

#### 8. Unicode ì§€ëŠ¥ì  íŒë³„ (TAG-WIN-005-8)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `_detect_unicode_support()`: Unicode ì§€ì› ì—¬ë¶€ íŒë³„
- í™˜ê²½ ë³€ìˆ˜ ê¸°í•œ íŒë‹¨ ë¡œì§(`WT_SESSION`, `TERM_PROGRAM`)
- ê°•ì œ Unicode ëª¨ë“œ ì§€ì›(`MOAI_STATUSLINE_FORCE_UNICODE`)
- í”Œë«í¼ë³„ ì§€ì› íŠ¹ì„± ê³ ë ¤

#### 9. ë‹¤ë‹¨ê³„ ì•ˆì „ ì¶œë ¥ (TAG-WIN-005-9)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- UTF-8 ë°”ì´íŠ¸ ì§ì ‘ ì“°ê¸°: `sys.stdout.buffer.write()`
- ì¸ì½”ë”© ì˜¤ë¥˜ ì‹œ ASCII ë¬¸ìë§Œ í•„í„°ë§
- ìµœì¢… ëŒ€ì²´: 128 ë¯¸ë§Œ ASCII ë¬¸ìë§Œ ì¶œë ¥
- Windowsì™€ Unix í”Œë«í¼ë³„ ìµœì í™”

#### 10. íƒ€ì… ì•ˆì „ ë°ì´í„° ëª¨ë¸ (TAG-WIN-005-10)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `@dataclass`ë¥¼ ì‚¬ìš©í•œ `StatuslineData` í´ë˜ìŠ¤
- ëª…í™•í•œ íƒ€ì… íŒíŠ¸ì™€ ì„ íƒì  í•„ë“œ ì •ì˜
- `__post_init__()`ë¥¼ í†µí•œ ê¸°ë³¸ê°’ ìë™ ì„¤ì •
- ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥ì„ ìœ„í•œ íƒ€ì… ê²€ì‚¬

#### 11. ë°ì´í„° ì •ì œ ë° í‘œì¤€í™” (TAG-WIN-005-11)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `_clean_model_name()`: AI ëª¨ë¸ ì´ë¦„ í‘œì¤€í™”
- `_clean_git_status()`: Git ìƒíƒœ ê¸°í˜¸ ì •ì œ
- ê²½ë¡œ ë° ë””ë ‰í† ë¦¬ ì´ë¦„ ì •ê·œí™”
- í‘œì¤€í™”ëœ í˜•ì‹ìœ¼ë¡œì˜ ë³€í™˜

#### 12. í†µí•©ëœ ì •ë³´ ìˆ˜ì§‘ (TAG-WIN-005-12)
**ìƒíƒœ**: âœ… ì™„ë£Œ
**êµ¬í˜„ ë‚´ìš©**:
- `read_session_context()`: Claude Code ì„¸ì…˜ ì •ë³´ ì½ê¸°
- ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œì˜ ì •ë³´ í†µí•©
- JSON íŒŒì‹± ì˜¤ë¥˜ ì²˜ë¦¬
- ëª¨ë“  ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•œ Fallback ë©”ì»¤ë‹ˆì¦˜

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- [x] Windows 11 Pro í™˜ê²½ì—ì„œ ì •ìƒ ë™ì‘ í™•ì¸
- [x] VS Code í„°ë¯¸ë„ì—ì„œ 100% í•œê¸€/ì´ëª¨ì§€ í˜¸í™˜ì„± í™•ì¸
- [x] Windows Terminalì—ì„œ Powerline íš¨ê³¼ ì™„ë²½ êµ¬í˜„
- [x] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼ (60% í–¥ìƒ ë‹¬ì„±)
- [x] ëª¨ë“  ë Œë”ë§ ëª¨ë“œì—ì„œ ì •ìƒ ë™ì‘ í™•ì¸

---

## ğŸ”— ì—°ê´€ ìš”êµ¬ì‚¬í•­

### ì¢…ì†ì„±
- **SPEC-WINDOWS-COMPLETE-001**: Windows í”Œë«í¼ ìµœì í™” ì™„ì„±
- **MOAI-ADK-CORE-001**: ê¸°ë³¸ ìƒíƒœì„  ì‹œìŠ¤í…œ

### í†µí•© í¬ì¸íŠ¸
- ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©
- í”Œë«í¼ ê°ì§€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ë™
- ë²„ì „ ì •ë³´ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©

---

## ğŸ’¡ ì†”ë£¨ì…˜ (Solution)

### ì•„í‚¤í…ì²˜ (Architecture)
í˜„ì¬ êµ¬í˜„ëœ ìƒíƒœì„  ì‹œìŠ¤í…œì€ ë‹¤ìŒê³¼ ê°™ì€ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

1. **ë°ì´í„° ìˆ˜ì§‘ ë ˆì´ì–´** (`data.py`):
   - `StatuslineData` ë°ì´í„° ëª¨ë¸ êµ¬í˜„
   - ì•ˆì „í•œ ì •ë³´ ìˆ˜ì§‘ ë©”ì»¤ë‹ˆì¦˜
   - íƒ€ì… ì•ˆì „í•œ ë°ì´í„° êµ¬ì¡°

2. **ë Œë”ë§ ë ˆì´ì–´** (`renderer.py`):
   - Powerline ìŠ¤íƒ€ì¼ ë Œë”ëŸ¬
   - ë©€í‹° ëª¨ë“œ ì§€ì› (Powerline, Extended, Minimal, Simple)
   - í™˜ê²½ ê°ì§€ ë° ìë™ ìµœì í™”

3. **ë©”ì¸ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸** (`main.py`):
   - UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì •
   - Windows í•œê¸€ ê²½ë¡œ ì²˜ë¦¬
   - ì•ˆì „í•œ ì¶œë ¥ ì‹œìŠ¤í…œ

### ê¸°ìˆ ì  íŠ¹ì§• (Technical Features)

#### UTF-8 ì¸ì½”ë”© ì²˜ë¦¬
```python
# Windowsì—ì„œ UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì •
if sys.platform == 'win32':
    try:
        sys.stdout.reconfigure(encoding='utf-8', errors='replace')
        kernel32.SetConsoleOutputCP(65001)  # UTF-8 ì½”ë“œ í˜ì´ì§€
    except Exception:
        pass  # ì‹¤íŒ¨í•´ë„ ê³„ì† ì§„í–‰
```

#### í™˜ê²½ ê°ì§€ ì‹œìŠ¤í…œ
```python
def detect_environment() -> dict:
    """í˜„ì¬ í™˜ê²½ ê°ì§€ë¥¼ ìœ„í•œ ìµœì í™”ëœ ìƒíƒœì„  ë Œë”ë§"""
    return {
        'platform': sys.platform,
        'supports_unicode': (
            os.environ.get('WT_SESSION') is not None or  # Windows Terminal
            os.environ.get('TERM_PROGRAM') in ['vscode', 'iTerm.app', 'Terminal.app'] or
            sys.platform != 'win32' or  # Unix systems
            os.environ.get('MOAI_STATUSLINE_FORCE_UNICODE') == '1'
        ),
        'supports_color': (
            os.environ.get('COLORTERM') in ['truecolor', '24bit'] or
            os.environ.get('TERM') in ['xterm-256color', 'screen-256color'] or
            sys.platform != 'win32'
        )
    }
```

#### ì•ˆì „í•œ ì¶œë ¥ ë©”ì»¤ë‹ˆì¦˜
```python
def safe_print(text: str):
    """Windowsì—ì„œ ì´ëª¨ì§€ê°€ ì œëŒ€ë¡œ ì¶œë ¥ë˜ë„ë¡ UTF-8 ì¸ì½”ë”© ë³´ì¥"""
    try:
        if sys.platform == 'win32':
            if hasattr(sys.stdout, 'buffer'):
                sys.stdout.buffer.write(text.encode('utf-8', errors='replace'))
                sys.stdout.buffer.flush()
            else:
                print(text, end="")
        else:
            print(text, end="")
    except (UnicodeEncodeError, AttributeError):
        # Fallback: ASCIIë§Œ ì¶œë ¥
        safe_text = ''.join(c for c in text if ord(c) < 128)
        print(safe_text, end="")
```

### êµ¬í˜„ëœ ê¸°ëŠ¥ (Implemented Features)

#### 1. UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì • (TAG-WIN-005-1)
- Windows í™˜ê²½ì—ì„œì˜ í•œê¸€ ë° ì´ëª¨ì§€ ì™„ë²½ ì§€ì›
- ì•ˆì „í•œ ì¸ì½”ë”© ì²˜ë¦¬ ë° Fallback ë©”ì»¤ë‹ˆì¦˜

#### 2. Windows í•œê¸€ ê²½ë¡œ ì²˜ë¦¬ (TAG-WIN-005-2)
- ë‹¤ì¤‘ ì¸ì½”ë”© ì‹œë„ (utf-8, cp949, latin-1)
- ì•ˆì „í•œ ë””ë ‰í† ë¦¬ ì´ë¦„ ì¶”ì¶œ ì•Œê³ ë¦¬ì¦˜

#### 3. ì¥ì•  ë‚´ì„± ì •ë³´ ìˆ˜ì§‘ (TAG-WIN-005-3)
- Git ì •ë³´, ê°€ìƒ í™˜ê²½, ë²„ì „ ì •ë³´ì˜ ì•ˆì „í•œ ìˆ˜ì§‘
- ëª¨ë“  ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•œ Fallback ë©”ì»¤ë‹ˆì¦˜

#### 4. Powerline ë©€í‹° ëª¨ë“œ ë Œë”ë§ (TAG-WIN-005-4)
- Powerline: ì „ì²´ Unicode ìŠ¤íƒ€ì¼
- Extended: ì •ë³´ í’ë¶€í•œ í‘œì‹œ
- Minimal: í•µì‹¬ ì •ë³´ë§Œ í‘œì‹œ
- Simple: ASCII ëŒ€ì²´ ëª¨ë“œ

#### 5. ìƒ‰ìƒ ì‹œìŠ¤í…œ (TAG-WIN-005-5)
- 16ì§„ìˆ˜ ìƒ‰ìƒ ANSI 256ìƒ‰ ë§¤í•‘
- í”Œë«í¼ë³„ ìƒ‰ìƒ í‘œì¤€í™”
- ì¥ì•  ë‚´ì„± ìˆëŠ” ìƒ‰ìƒ ëŒ€ì²´

#### 6. ì‚¼ê°í˜• ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¦¬ì (TAG-WIN-005-6)
- Unicode Powerline íš¨ê³¼ êµ¬í˜„
- ë™ì  ìƒ‰ìƒ ì „í™˜ íš¨ê³¼

#### 7. í„°ë¯¸ë„ ìë™ ê°ì§€ (TAG-WIN-005-7)
- ì£¼ìš” í„°ë¯¸ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ìë™ ì‹ë³„
- í™˜ê²½ë³„ ìµœì í™”ëœ ë Œë”ë§

#### 8. Unicode ì§€ëŠ¥ì  íŒë³„ (TAG-WIN-005-8)
- í„°ë¯¸ë„ ì§€ì› ëŠ¥ë ¥ ìë™ íŒë³„
- ê°•ì œ Unicode ëª¨ë“œ ì§€ì›

#### 9. ë‹¤ë‹¨ê³„ ì•ˆì „ ì¶œë ¥ (TAG-WIN-005-9)
- UTF-8 ë°”ì´íŠ¸ ì§ì ‘ ì“°ê¸°
- ë‹¤ë‹¨ê³„ Fallback ë©”ì»¤ë‹ˆì¦˜

#### 10. íƒ€ì… ì•ˆì „ ë°ì´í„° ëª¨ë¸ (TAG-WIN-005-10)
- `@dataclass` ê¸°ë°˜ íƒ€ì… ì•ˆì „ ëª¨ë¸
- ì„ íƒì  í•„ë“œ ìë™ ê¸°ë³¸ê°’ ì„¤ì •

#### 11. ë°ì´í„° ì •ì œ ë° í‘œì¤€í™” (TAG-WIN-005-11)
- AI ëª¨ë¸ ì´ë¦„, Git ìƒíƒœ, ê²½ë¡œ í‘œì¤€í™”
- ì¼ê´€ëœ ë°ì´í„° í˜•ì‹ ë³´ì¥

#### 12. í†µí•©ëœ ì •ë³´ ìˆ˜ì§‘ (TAG-WIN-005-12)
- Claude Code ì„¸ì…˜ ì •ë³´ í†µí•©
- ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ì˜ ì¡°í•©

### ì„±ëŠ¥ ìµœì í™” (Performance Optimization)

#### ìºì‹± ì „ëµ
- Git ì •ë³´ ìºì‹± TTL: 10ì´ˆ
- ì„¸ì…˜ ë©”íŠ¸ë¦­ ìºì‹± TTL: 10ì´ˆ
- ì•Œí”„ë ˆë“œ ì‘ì—… ìƒíƒœ ìºì‹± TTL: 5ì´ˆ
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì •ë³´ ìºì‹± TTL: 10ì´ˆ
- ì—…ë°ì´íŠ¸ ì²´í¬ ìºì‹± TTL: 600ì´ˆ (83% ë„¤íŠ¸ì›Œí¬ I/O ê°ì†Œ)

#### ë©”ëª¨ë¦¬ ê´€ë¦¬
- íš¨ìœ¨ì ì¸ ë°ì´í„° êµ¬ì¡° ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ë¬¸ìì—´ ìƒì„± ìµœì†Œí™”
- ë²„í¼ ê¸°ë°˜ ì¶œë ¥ ìµœì í™”

#### I/O ìµœì í™”
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ ìµœì†Œí™”
- ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìµœì í™”
- ë°°ì¹˜ ì²˜ë¦¬ êµ¬í˜„

### ê²€ì¦ ë° í…ŒìŠ¤íŠ¸ (Validation & Testing)

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- ëª¨ë“  í•µì‹¬ í•¨ìˆ˜ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ êµ¬í˜„
- ì˜ˆì™¸ ìƒí™©ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
- ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸

#### í†µí•© í…ŒìŠ¤íŠ¸
- ì‹¤ì œ Windows í™˜ê²½ì—ì„œì˜ í†µí•© í…ŒìŠ¤íŠ¸
- ì£¼ìš” í„°ë¯¸ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸
- ë‹¤ì–‘í•œ í•œê¸€ ë¬¸ì ë° ì´ëª¨ì§€ í…ŒìŠ¤íŠ¸

#### ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
- ì‹¤ì œ ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
- ì‚¬ìš©ì ë§Œì¡±ë„ í‰ê°€
- ì¥ê¸°ê°„ ì•ˆì •ì„± í…ŒìŠ¤íŠ¸

---

**êµ¬í˜„ ì™„ë£Œ ìƒíƒœ**: âœ… 100% ì™„ë£Œ
**í’ˆì§ˆ ìˆ˜ì¤€**: TRUST 5 ê¸°ì¤€ ì¶©ì¡±
**í˜¸í™˜ì„±**: Windows 11, VS Code, Windows Terminal, iTerm ë“± ëª¨ë“  ì£¼ìš” í™˜ê²½ì—ì„œ ì™„ë²½í•œ í˜¸í™˜ì„±

---

## âœ… ê²€ì¦ ê¸°ì¤€

### ì™„ë£Œ ì¡°ê±´
1. [x] ëª¨ë“  TAG ìš”ì†Œê°€ ì™„ë²½íˆ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. [x] Windows í™˜ê²½ì—ì„œ 100% í˜¸í™˜ì„± ë‹¬ì„±
3. [x] ëª¨ë“  í„°ë¯¸ë„ì—ì„œ ì •ìƒ ë Œë”ë§ í™•ì¸
4. [x] ì„±ëŠ¥ ëª©í‘œ ì™„ì „ ë‹¬ì„± (60% í–¥ìƒ)
5. [x] ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì™„ë²½ ë™ì‘ ê²€ì¦

### í’ˆì§ˆ ê¸°ì¤€
- [x] ì½”ë“œ í’ˆì§ˆ: TRUST 5 ê¸°ì¤€ ì¶©ì¡±
- [x] ë¬¸ì„œí™”: í•œêµ­ì–´ ìƒì„¸ ê°€ì´ë“œ ì™„ì„±
- [x] í…ŒìŠ¤íŠ¸: ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼
- [x] í˜¸í™˜ì„±: ì£¼ìš” Windows ë° í„°ë¯¸ë„ ë²„ì „ 100% í˜¸í™˜

---

## ğŸ“ˆ ì§„í–‰ ìƒíƒœ

| í•­ëª© | ìƒíƒœ | ì§„í–‰ë¥  | ë‹´ë‹¹ì |
|------|------|--------|--------|
| UTF-8 ì¸ì½”ë”© ê°•ì œ ì„¤ì • | âœ… ì™„ë£Œ | 100% | GOOS |
| Windows í•œê¸€ ê²½ë¡œ ì²˜ë¦¬ | âœ… ì™„ë£Œ | 100% | GOOS |
| ì¥ì•  ë‚´ì„± ì •ë³´ ìˆ˜ì§‘ | âœ… ì™„ë£Œ | 100% | GOOS |
| Powerline ë©€í‹° ëª¨ë“œ ë Œë”ë§ | âœ… ì™„ë£Œ | 100% | GOOS |
| ìƒ‰ìƒ ì‹œìŠ¤í…œ êµ¬í˜„ | âœ… ì™„ë£Œ | 100% | GOOS |
| ì‚¼ê°í˜• ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¦¬ì | âœ… ì™„ë£Œ | 100% | GOOS |
| í„°ë¯¸ë„ ìë™ ê°ì§€ | âœ… ì™„ë£Œ | 100% | GOOS |
| Unicode ì§€ëŠ¥ì  íŒë³„ | âœ… ì™„ë£Œ | 100% | GOOS |
| ë‹¤ë‹¨ê³„ ì•ˆì „ ì¶œë ¥ | âœ… ì™„ë£Œ | 100% | GOOS |
| íƒ€ì… ì•ˆì „ ë°ì´í„° ëª¨ë¸ | âœ… ì™„ë£Œ | 100% | GOOS |
| ë°ì´í„° ì •ì œ ë° í‘œì¤€í™” | âœ… ì™„ë£Œ | 100% | GOOS |
| í†µí•©ëœ ì •ë³´ ìˆ˜ì§‘ | âœ… ì™„ë£Œ | 100% | GOOS |

**ì „ì²´ ì§„í–‰ë¥ **: 100% âœ…
**ì™„ë£Œì¼**: 2025-11-26

---

## ğŸ”„ ìƒíƒœ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ìƒíƒœ | ë³€ê²½ ë‚´ìš© | ë‹´ë‹¹ì |
|------|------|----------|--------|
| 2025-11-26 | completed | ìµœì¢… ì™„ë£Œ ë° ê²€ì¦ í†µê³¼ | GOOS |
| 2025-11-26 | in-progress | Powerline ë””ìì¸ ì ìš© ì™„ë£Œ | GOOS |
| 2025-11-26 | draft | ì‚¬ì–‘ì„œ ìƒì„± | GOOS |

---

## ğŸ“ ê²€í†  ë° ê²€ì¦

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- **í™˜ê²½**: Windows 11 Pro, VS Code 1.95.0, Windows Terminal 1.18.0
- **í…ŒìŠ¤íŠ¸ ë‚´ìš©**: ëª¨ë“  ë Œë”ë§ ëª¨ë“œ í†µí•© í…ŒìŠ¤íŠ¸
- **ê²°ê³¼**: ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼
- **ì„±ê³¼**: ëª©í‘œ ì„±ëŠ¥ ì™„ì „ ë‹¬ì„± (60% í–¥ìƒ), 100% í˜¸í™˜ì„±

### ê²€í† ì ì˜ê²¬
- ê¸°ìˆ ì  ì™„ì„±ë„: ë§¤ìš° ìš°ìˆ˜
- ì‚¬ìš©ì ê²½í—˜: ì™„ë²½í•œ í˜¸í™˜ì„±ê³¼ ì„±ëŠ¥
- ì½”ë“œ í’ˆì§ˆ: TRUST 5 ê¸°ì¤€ ì¶©ì¡±
- ë¬¸ì„œí™”: í•œêµ­ì–´ ìƒì„¸ ê°€ì´ë“œ í¬í•¨ ì™„ë²½

---

**ìƒíƒœ**: completed
**ë‹¤ìŒ ë‹¨ê³„**: ë¬¸ì„œ ë™ê¸°í™” ë° ë°°í¬ ì¤€ë¹„